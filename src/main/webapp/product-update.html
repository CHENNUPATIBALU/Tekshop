<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Update Product</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div id="form-div" style="border: 0.5px solid grey; width: max-content; margin: 0 auto;">
        <form action="ProductUpdate" style="padding: 10px;width: max-content; margin: 0 auto;" method="post">
            <h2 style="text-align: center; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">Update</h2>
            <span>Product Name: </span><input type="text" name="prod_name" id="prod_input"><br><br>
            <span>Category: </span>
            <select id="category-select" name="category">
                <option value="Apparel_Accessories">Apparel & Accessories</option>
                <option value="Style_Fashion">Style & Fashion</option>
                <option value="Home_Garden">Home & Garden</option>
                <option value="Sporting_Goods">Sporting Goods</option>
                <option value="Health_Wellness">Health & Wellness</option>
                <option value="Children_Infants">Children & Infants</option>
                <option value="Groceries_Food_Drinks">Groceries, Food and Drinks</option>
                <option value="Flowers_Gifts">Flowers and Gifts</option>
            </select><br><br>
            <span>Unit Price: </span><input type="number" name="price" id="price-input"><br><br>
            <span>Inventory Level: </span><input type="number" name="inventory-level" id="inv-input"><br><br>
            <span>Active: </span><input type="radio" value="Yes" id="yes-radio"><span>Yes</span> &nbsp; <input type="radio" value="No" id="no-radio"><span>No</span><br><br>
            <button type="submit" style="margin: 0 auto; display: block;" onclick="updateProduct();">Update</button>
        </form>
    </div>
    <div id="root-div" style="display: flex; margin: 5px;">
        
    </div>

    <script>

        document.getElementById('yes-radio').addEventListener('click',function() {
            document.getElementById('no-radio').checked = false;
        });

        document.getElementById('no-radio').addEventListener('click',function() {
            document.getElementById('yes-radio').checked = false;
        });

        function populateProduct(prodName,category,price,invLvl,active){
            var div = document.createElement('div');
            div.style = "border: 0.5px solid grey; width: max-content; border-radius: 5px; background-color: rgb(241, 244, 246)";

            var innerDiv = document.createElement('div');
            innerDiv.style = "display: flex";

            var nameP = document.createElement('p');
            nameP.innerHTML = prodName;

            var editIcon = document.createElement('i');
            editIcon.classList.add('fa');
            editIcon.classList.add('fa-edit');
            editIcon.style = "width:70px; text-align: end; cursor:pointer";
            editIcon.addEventListener('click',function(){
                document.getElementById('form-div').style.display = 'block';
                document.getElementById('prod-input').value = prodName;
                document.getElementById('category-select').value = category;
                document.getElementById('price-input').value = price;
                document.getElementById('inv-input').value = invLvl;
                
                if(active){
                    document.getElementById('yes-radio').checked = true;
                }else{
                    document.getElementById('no-radio').checked = true;
                }
            });

            innerDiv.appendChild(nameP);
            innerDiv.appendChild(editIcon);

            var catP = document.createElement('p');
            var catB = document.createElement('b');
            catB.innerText = "Category: ";
            catP.appendChild(catB);
            var catSpan = document.createElement('span');
            catSpan.innerText = category;
            catP.appendChild(catSpan);

            var priceP = document.createElement('p');
            var priceB = document.createElement('b');
            priceB.innerText = "Price: ";
            priceP.appendChild(priceB);
            var priceSpan = document.createElement('span');
            priceSpan.innerText = price;
            priceP.appendChild(priceSpan);

            var invP = document.createElement('p');
            var invB = document.createElement('b');
            invB.innerText = "Inventory Level: ";
            invP.appendChild(invB);
            var invSpan = document.createElement('span');
            invSpan.innerText = invLvl;
            invP.appendChild(invSpan);

            var activeP = document.createElement('p');
            var activeB = document.createElement('b');
            activeB.innerText = "Active: ";
            activeP.appendChild(activeB);
            var activeSpan = document.createElement('span');
            activeSpan.innerText = active;
            activeP.appendChild(activeSpan);

            div.appendChild(innerDiv);
            div.appendChild(catP);
            div.appendChild(priceP);
            div.appendChild(invP);
            div.appendChild(activeP);

            document.getElementById('root-div').appendChild(div);
        }
    </script>
</body>
</html>